<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>FilamentIO · VortexPasta</title><meta name="title" content="FilamentIO · VortexPasta"/><meta property="og:title" content="FilamentIO · VortexPasta"/><meta property="twitter:title" content="FilamentIO · VortexPasta"/><meta name="description" content="Documentation for VortexPasta."/><meta property="og:description" content="Documentation for VortexPasta."/><meta property="twitter:description" content="Documentation for VortexPasta."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/fonts.css" rel="stylesheet" type="text/css"/><script src="../../assets/sa.js" data-collect-dnt="true" async></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">VortexPasta</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">VortexPasta.jl</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/01-vortex_ring/">Vortex ring</a></li><li><a class="tocitem" href="../../tutorials/02-kelvin_waves/">Kelvin waves</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Explanations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../methods/VFM/">The vortex filament model</a></li><li><a class="tocitem" href="../../methods/Ewald/">Ewald summation for Biot–Savart</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Tips and tricks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tips/parallelisation/">Parallelisation and clusters</a></li><li><a class="tocitem" href="../../tips/gpu/">GPU usage</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Modules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../PaddedArrays/">PaddedArrays</a></li><li><a class="tocitem" href="../PredefinedCurves/">PredefinedCurves</a></li><li><a class="tocitem" href="../CellLists/">CellLists</a></li><li><a class="tocitem" href="../Quadratures/">Quadratures</a></li><li><a class="tocitem" href="../Filaments/">Filaments</a></li><li class="is-active"><a class="tocitem" href>FilamentIO</a><ul class="internal"><li><a class="tocitem" href="#VTKHDF-format"><span>VTKHDF format</span></a></li><li><a class="tocitem" href="#Text-format"><span>Text format</span></a></li></ul></li><li><a class="tocitem" href="../FindNearbySegments/">FindNearbySegments</a></li><li><a class="tocitem" href="../Constants/">Constants</a></li><li><a class="tocitem" href="../BiotSavart/">BiotSavart</a></li><li><a class="tocitem" href="../SyntheticFields/">SyntheticFields</a></li><li><a class="tocitem" href="../Forcing/">Forcing</a></li><li><a class="tocitem" href="../Containers/">Containers</a></li><li><a class="tocitem" href="../Reconnections/">Reconnections</a></li><li><a class="tocitem" href="../Timestepping/">Timestepping</a></li><li><a class="tocitem" href="../Diagnostics/">Diagnostics</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modules</a></li><li class="is-active"><a href>FilamentIO</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>FilamentIO</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jipolanco/VortexPasta.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jipolanco/VortexPasta.jl/blob/master/docs/src/modules/FilamentIO.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="FilamentIO"><a class="docs-heading-anchor" href="#FilamentIO">FilamentIO</a><a id="FilamentIO-1"></a><a class="docs-heading-anchor-permalink" href="#FilamentIO" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VortexPasta.FilamentIO" href="#VortexPasta.FilamentIO"><code>VortexPasta.FilamentIO</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FilamentIO</code></pre><p>Module defining tools for reading and writing filament data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/FilamentIO.jl#L1-L5">source</a></section></article><h2 id="VTKHDF-format"><a class="docs-heading-anchor" href="#VTKHDF-format">VTKHDF format</a><a id="VTKHDF-format-1"></a><a class="docs-heading-anchor-permalink" href="#VTKHDF-format" title="Permalink"></a></h2><p>The <a href="https://docs.vtk.org/en/latest/design_documents/VTKFileFormats.html#vtkhdf-file-format">VTKHDF format</a> can be used to store data from numerical simulations and visualise it using ParaView. It is based on HDF5, meaning that data can be accessed using the HDF5 libraries and tools.</p><h3 id="Writing-data"><a class="docs-heading-anchor" href="#Writing-data">Writing data</a><a id="Writing-data-1"></a><a class="docs-heading-anchor-permalink" href="#Writing-data" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VortexPasta.FilamentIO.write_vtkhdf" href="#VortexPasta.FilamentIO.write_vtkhdf"><code>VortexPasta.FilamentIO.write_vtkhdf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_vtkhdf(
    [f::Function],
    filename::AbstractString,
    fs::AbstractVector{&lt;:AbstractFilament};
    refinement = 1,
    dataset_type = :PolyData,
    parametrisation = true,
    periods = nothing,
)</code></pre><p>Write new VTK HDF file containing a list of filaments.</p><p>A VTK HDF file is an HDF5 file organised in such a way that it can be readily visualised in tools such as ParaView. Data in the file can be readily accessed using HDF5 tools and libraries.</p><p>Following the VTK HDF specification, this function creates a &quot;VTKHDF&quot; group on top of the HDF5 file. Then, it creates the datasets allowing to describe the filaments as an unstructured grid.</p><p>See also the <a href="https://docs.vtk.org/en/latest/design_documents/VTKFileFormats.html#vtkhdf-file-format">VTK documentation</a> for details on the VTK HDF format.</p><p><strong>Extended help</strong></p><p><strong>Relevant datasets</strong></p><p>Some relevant datasets which are written are:</p><ul><li><p><code>/VTKHDF/Points</code>: contains the coordinates of all filament nodes. Points are represented as an array of dimensions <code>(3, Np)</code> where <code>Np</code> is the total number of nodes. Note that the points <em>include the endpoint</em>, meaning that for a closed filament the initial coordinate appears twice in the file. This is done to disambiguate between <em>closed</em> and <em>infinite but unclosed</em> filaments (see <a href="../Filaments/#VortexPasta.Filaments.end_to_end_offset"><code>end_to_end_offset</code></a>).</p></li><li><p><code>/VTKHDF/CellData/FilamentIds</code>: contains the filament id associated to each VTK cell. It is a dataset of length <code>Nc</code>, where <code>Nc</code> is the number of cells. In our case a cell is a spatial curve made of discrete points. The ids are <code>Int32</code> values from <code>1</code> to <code>Nf</code>, where <code>Nf</code> is the number of filaments. The values are always sorted increasingly (<code>FilamentIds[i + 1] ≥ FilamentIds[i]</code> for all <code>i</code>). Note that, in general, one cell corresponds to one filament (so that <code>Nc == Nf</code>), but this may not be the case when the <code>periods</code> argument is used and a filament is broken onto multiple curves (see <strong>Periodic wrapping of filaments</strong> below for details).</p></li></ul><p><strong>Attaching extra data</strong></p><p>The optional <code>f</code> argument can be used to attach other data (such as velocity vectors or the current time) to the generated file. This is most conveniently done using the <code>do</code> block syntax. See further below for some examples.</p><p><strong>Optional keyword arguments</strong></p><ul><li><p><code>refinement::Int = 1</code>: allows to output more than 1 point for each filament segment. This is mostly useful for producing nice visualisations. The level of refinement is written to the <code>/VTKHDF/RefinementLevel</code> dataset, which allows to read back the data skipping intra-segment nodes.</p></li><li><p><code>parametrisation::Bool = true</code>: if <code>true</code> (default), write curve parametrisation values. This allows <code>read_vtkhdf</code> to reconstruct the exact same curve that was written (assuming the same discretisation method is used, e.g. cubic splines), even if the curve used some non-default curve parametrisation. Values are written to the <code>/VTKHDF/PointData/Parametrisation</code> dataset.</p></li><li><p><code>dataset_type::Symbol</code>: can be either <code>:PolyData</code> (default) or <code>:UnstructuredGrid</code>. There&#39;s usually no reason to change this.</p></li></ul><p><strong>Periodic wrapping of filaments</strong></p><p>When using periodic boundary conditions, one can use the optional <code>periods</code> argument to periodically wrap the filaments. In this case, one should pass a tuple <code>periods = (Lx, Ly, Lz)</code> with the period in each direction (one can pass <code>nothing</code> if there are non-periodic directions).</p><p>In this case, filaments outside the main periodic box will be translated to fit in the periodic box. Moreover, if a filament locally goes out of the periodic box, it will be broken onto multiple curves so that they all fit within the domain. One can then look at the <code>/VTKHDF/CellData/FilamentIds</code> dataset to determine which curves belong to the same filament.</p><p><strong>Typical usage</strong></p><pre><code class="language-julia hljs"># Note: the file extension is arbitrary, but ParaView prefers &quot;.vtkhdf&quot; (or &quot;.hdf&quot;) if one
# wants to use the files for visualisation.
write_vtkhdf(&quot;filaments.vtkhdf&quot;, fs; refinement = 2, periods = (2π, 2π, 2π)) do io
    io[&quot;Velocity&quot;] = vs  # adds velocity as VTK point data, assuming vs is a VectorOfVectors
    io[&quot;Curvatures&quot;] = CurvatureVector()  # convenient syntax for writing geometric quantities along filaments
    io[&quot;Time&quot;] = 0.3     # adds time as VTK field data, since it&#39;s a scalar
    # one can add other fields here...
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/vtkhdf.jl#L45-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.setindex!-Tuple{VortexPasta.FilamentIO.VTKHDFFile, AbstractVector{&lt;:AbstractVector}, AbstractString}" href="#Base.setindex!-Tuple{VortexPasta.FilamentIO.VTKHDFFile, AbstractVector{&lt;:AbstractVector}, AbstractString}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Base.setindex!(io::VTKHDFFile, vs::AbstractVector{&lt;:AbstractVector}, name::AbstractString)</code></pre><p>Attach data to filament nodes.</p><p>One generally wants to use the syntax <code>io[name] = vs</code> which calls this function.</p><p>This can be used to write fields defined at filament nodes (for instance, the velocity of each node).</p><p>The data is written to the dataset <code>/VTKHDF/PointData/$name</code>.</p><p>For vector fields (such as velocity), the written dataset has dimensions <code>(3, Np)</code> where <code>Np</code> is the total number of filament nodes (including endpoints). The format is exactly the same as for the <code>Points</code> dataset as detailed in <a href="#VortexPasta.FilamentIO.write_vtkhdf"><code>write_vtkhdf</code></a>. As also explained there, the <code>Offsets</code> dataset can be used to recover the values associated to each filament.</p><p><strong>Writing geometric quantities</strong></p><p>It is also possible to write geometric quantities such as unit tangents or curvature vectors along filaments (see <a href="../Filaments/#VortexPasta.Filaments.GeometricQuantity"><code>GeometricQuantity</code></a> for a list). For this, one can pass the wanted quantity as the <code>vs</code> argument.</p><p>For example, one can simply do</p><pre><code class="nohighlight hljs">io[&quot;Curvatures&quot;] = CurvatureVector()</code></pre><p>to write curvature vectors along each filament.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/vtkhdf.jl#L356-L385">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.setindex!-Tuple{VortexPasta.FilamentIO.VTKHDFFile, Any, AbstractString}" href="#Base.setindex!-Tuple{VortexPasta.FilamentIO.VTKHDFFile, Any, AbstractString}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Base.setindex!(io::VTKHDFFile, data, name::AbstractString)</code></pre><p>Write data as VTK field data to VTK HDF file.</p><p>In VTK, <em>field data</em> refers to data which is not directly attached to the geometry. This is typically small datasets or simple values, such as the current time or simulation parameters.</p><p>Note that scalar data (such as time) is always written as a single-element vector, since otherwise it cannot be parsed by VTK.</p><p>This function interprets everything that is not a vector of vectors as field data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/vtkhdf.jl#L430-L443">source</a></section></article><h3 id="Reading-data"><a class="docs-heading-anchor" href="#Reading-data">Reading data</a><a id="Reading-data-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-data" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VortexPasta.FilamentIO.read_vtkhdf" href="#VortexPasta.FilamentIO.read_vtkhdf"><code>VortexPasta.FilamentIO.read_vtkhdf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_vtkhdf([f::Function], filename, T, method::DiscretisationMethod)</code></pre><p>Read filament locations from VTK HDF file.</p><p>This function loads filaments based on the datasets <code>/VTKHDF/Points</code> and <code>/VTKHDF/Offsets</code> as written by the <a href="#VortexPasta.FilamentIO.write_vtkhdf"><code>write_vtkhdf</code></a> function.</p><p>Returns a vector of filaments with precision <code>T</code> (<code>Float32</code> or <code>Float64</code>). Each filament is discretised according to the chosen <code>method</code>. See <a href="../Filaments/#VortexPasta.Filaments.init"><code>Filaments.init</code></a> for possible options.</p><p>One can also read other datasets using <code>read</code> and <code>read!</code>, as shown and explained below.</p><p><strong>Extended help</strong></p><p><strong>Typical usage</strong></p><pre><code class="language-julia hljs">local vs, t  # make sure these variables still exist after the `do` block

# The returned `fs` is a list of filaments.
fs = read_vtkhdf(&quot;filaments.vtkhdf&quot;, Float64, CubicSplineMethod()) do io
    vs = read(io, &quot;Velocity&quot;, PointData())            # here `vs` contains one velocity vector per filament node
    t = only(read(io, &quot;Time&quot;, FieldData(), Float64))  # note: field data is always written as an array
    # one can read other fields here...
end</code></pre><p>The available reading functions are:</p><ul><li><p><code>read(io, name::AbstractString, ::PointData)</code> for reading point data (e.g. a velocity field);</p></li><li><p><code>read(io, name::AbstractString, ::FieldData, ::Type{T})</code> for reading field data (i.e. data not attached to filament nodes, such as the current time);</p></li><li><p><code>read!(io, vs::AbstractVector{&lt;:AbstractVector}, name::AbstractString)</code> for reading point data onto a preallocated vector of vectors.</p></li></ul><p><strong>Accessing filament data in <code>do</code> block</strong></p><p>When using the <code>do</code> block syntax as in the above example, one may want to have access to the filament locations <code>fs</code> from within the <code>do</code> block. For instance, this can be useful if one has a preallocated vector of velocities <code>vs</code> which needs to be resized to match the number of filaments and filament nodes, before reading values using <code>read!</code>.</p><p>In fact, <code>fs</code> can be easily obtained from the <code>io</code> object:</p><pre><code class="language-julia hljs">read_vtkhdf(&quot;filaments.vtkhdf&quot;, Float64, CubicSplineMethod()) do io
    fs = io.fs  # this is the vector of filaments
    # Say we want to resize an existent vector of velocities (must have the right type...):
    resize!(vs, length(fs))
    for (v, f) ∈ zip(vs, fs)
        resize!(v, length(nodes(f)))  # resize velocities of a single filament
    end
    # Now we can read the velocities
    read!(io, vs, &quot;Velocity&quot;)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/vtkhdf.jl#L481-L542">source</a></section></article><h3 id="Time-series-files"><a class="docs-heading-anchor" href="#Time-series-files">Time series files</a><a id="Time-series-files-1"></a><a class="docs-heading-anchor-permalink" href="#Time-series-files" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VortexPasta.FilamentIO.TimeSeriesFile" href="#VortexPasta.FilamentIO.TimeSeriesFile"><code>VortexPasta.FilamentIO.TimeSeriesFile</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TimeSeriesFile() -&gt; TimeSeriesFile</code></pre><p>Initialise a time series file compatible with ParaView.</p><p>A <a href="https://gitlab.kitware.com/paraview/paraview/-/blob/v5.5.0/Documentation/release/ParaView-5.5.0.md#json-based-new-meta-file-format-for-series-added">ParaView time series file</a> is a JSON which points to a series of VTK files representing a time series. To each VTK file one can associate a (simulation) time.</p><p>One can use this to describe a series of VTKHDF files generated by <a href="#VortexPasta.FilamentIO.write_vtkhdf"><code>write_vtkhdf</code></a>. Note that, in this case, the extension of the time series file must be <code>.vtkhdf.series</code>.</p><p><strong>Typical usage</strong></p><pre><code class="language-julia hljs"># Initialise TimeSeriesFile before starting a simulation
tsf = TimeSeriesFile()

# Write a VTKHDF file associated to a single time
timestep = 4200
time = 24.0
filename = &quot;rings_$(timestep).vtkhdf&quot;
write_vtkhdf(filename, filaments, etc...)  # write VTKHDF file
tsf[time] = filename                       # add VTKHDF file to time series file

# Save the file at the end of the simulation (or at an intermediate time, that&#39;s OK too)
save(&quot;rings.vtkhdf.series&quot;, tsf)  # note: the extension must be .vtkhdf.series to make ParaView happy</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/json_vtk_series.jl#L10-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.setindex!-Tuple{TimeSeriesFile, AbstractString, Real}" href="#Base.setindex!-Tuple{TimeSeriesFile, AbstractString, Real}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Base.setindex!(tsf::TimeSeriesFile, filename::AbstractString, time::Real)</code></pre><p>Add file to time series file.</p><p><strong>Typical usage</strong></p><pre><code class="language-julia hljs">timestep = 4200
time = 24.0
filename = &quot;rings_$(timestep).vtkhdf&quot;
tsf[time] = filename</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/json_vtk_series.jl#L59-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.empty!-Tuple{TimeSeriesFile}" href="#Base.empty!-Tuple{TimeSeriesFile}"><code>Base.empty!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Base.empty!(tsf::TimeSeriesFile)</code></pre><p>Reset <a href="#VortexPasta.FilamentIO.TimeSeriesFile"><code>TimeSeriesFile</code></a>, removing all entries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/json_vtk_series.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FileIO.save-Tuple{AbstractString, TimeSeriesFile}" href="#FileIO.save-Tuple{AbstractString, TimeSeriesFile}"><code>FileIO.save</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save(filename::AbstractString, tsf::TimeSeriesFile)
save(io::IO, tsf::TimeSeriesFile)</code></pre><p>Write <a href="#VortexPasta.FilamentIO.TimeSeriesFile"><code>TimeSeriesFile</code></a> to a file.</p><p>The filename must have extension <code>.VTKFORMAT.series</code>. In particular, if writing VTKHDF files, the format must be <code>.vtkhdf.series</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/VTKHDF/json_vtk_series.jl#L79-L87">source</a></section></article><h2 id="Text-format"><a class="docs-heading-anchor" href="#Text-format">Text format</a><a id="Text-format-1"></a><a class="docs-heading-anchor-permalink" href="#Text-format" title="Permalink"></a></h2><p>The following functions can be used to dump filament positions (and other quantities defined on filaments) to simple text files, and read positions back. This can be a convenient way of making simulation checkpoints.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VortexPasta.FilamentIO.write_to_text" href="#VortexPasta.FilamentIO.write_to_text"><code>VortexPasta.FilamentIO.write_to_text</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_to_text(io::IO, fs::AbstractVector{&lt;:AbstractVector})
write_to_text(filename::AbstractString, fs::AbstractVector{&lt;:AbstractVector})</code></pre><p>Dump filament locations or other filament data to text file.</p><p>Here <code>fs</code> can be a list of filaments or a list of values (e.g. velocities) on filament nodes.</p><p>The output is a text file where:</p><ul><li><p>each line represents a single filament,</p></li><li><p>node coordinates (or vector values such as velocity) are flattened so that they can be written in a single line,</p></li><li><p>the end node is included. For a closed filament, this means that the first and last written points are identical. This also means that we write <code>N + 1</code> values for a filament of length <code>N</code> (= number of <em>independent</em> nodes).</p></li></ul><p>One can use <a href="#VortexPasta.FilamentIO.read_from_text"><code>read_from_text</code></a> to generate filaments from files written by this function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/text/text.jl#L3-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VortexPasta.FilamentIO.read_from_text" href="#VortexPasta.FilamentIO.read_from_text"><code>VortexPasta.FilamentIO.read_from_text</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_from_text(io::IO, ::Type{T}, method::DiscretisationMethod) -&gt; fs
read_from_text(filename::AbstractString, ::Type{T}, method::DiscretisationMethod) -&gt; fs</code></pre><p>Read filament locations from text file.</p><p>This function can be used to read filament locations written by <a href="#VortexPasta.FilamentIO.write_to_text"><code>write_to_text</code></a>.</p><p>The type <code>T</code> corresponds to the wanted numerical precision. It is usually <code>Float64</code> or <code>Float32</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jipolanco/VortexPasta.jl/blob/de53b56ccd0b028581363ef67d4063ff7ab07040/src/FilamentIO/text/text.jl#L39-L48">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Filaments/">« Filaments</a><a class="docs-footer-nextpage" href="../FindNearbySegments/">FindNearbySegments »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Friday 20 June 2025 08:33">Friday 20 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
